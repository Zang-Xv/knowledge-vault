# 背景

手上的代码出了问题到底怎么排查? 从零开始前端测试

## 看什么

浏览器 Console 有没有红字
Network 请求是否：状态码异常（4xx / 5xx）, 请求没发出去 / 返回为空

### console

重点关注三类信息：

1. 红色 Error
只要有红字，前端代码在某一行直接中断执行
常见形式：
    - Uncaught TypeError
    - Cannot read properties of undefined
    - xxx is not a function
    - SyntaxError

1. 黄色 Warning
Warning 不会阻断执行，但常常解释「为什么行为怪怪的」。
比如：
    - Vue/React 的 warning
    - key 缺失
    - 状态不一致

1. 你自己打的 log 是否出现
`console.log("here");`
没出现：代码根本没执行
出现但没后续：中间某一步出错或 return 了

#### 原理

前端本质是：单线程 JS 执行 + 事件循环

一旦出现 未捕获异常（uncaught error）：
当前调用栈直接中断
后面的逻辑不会再执行

所以第一反应就是确认 JS 是否还能完整跑下去

### network

做一次你认为“有问题”的操作（点按钮 / 提交表单）
重点看：

- 是否出现新的请求
- 请求类型（XHR / Fetch）
- 请求状态码
- 请求内容 & 返回内容

1. Network 里没有任何新请求
常见原因
    - 点击事件没绑定
    - 条件判断拦住了（if return）
    - 表单校验未通过
    - 逻辑提前报错（但你没注意）
这时你要回到：点击函数入口查看 console.log 是否执行

2. 请求发了，但状态码异常
| 状态码       | 含义    | 工程判断         |
| --------- | ----- | ------------ |
| 400       | 参数错误  | 前端传参问题       |
| 401 / 403 | 权限问题  | token / 登录态  |
| 404       | 接口不存在 | 路径 / proxy 错 |
| 500       | 服务器异常 | 先看前端传了什么 |

3. 请求成功，但Response数据“不对”
要看：
Response 里真实返回了什么
和你代码里用的字段是否一致

#### 原理: Network 在帮你确认什么？

浏览器有没有真的按照你想的那样发请求，并拿到响应？

它帮你区分三种完全不同的问题：

- 请求没发（纯前端）
- 请求错了（前端 → 后端接口理解不一致）
- 响应正常，但你用错了（前端状态 / 渲染问题）
